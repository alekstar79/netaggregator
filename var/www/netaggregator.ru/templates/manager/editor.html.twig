{% extends '@manager/index.html.twig' %}

{% block html %}
<html lang="en" style="max-width:98%">
{{ parent() }}
{% endblock %}

{% block title %}{{ editfile|trim('/')|split('/')|last }}{% endblock %}

{% block meta %}
    <meta name="description" content="Editor with CodeMirror syntax highlighting" />
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="/js/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="/js/codemirror/addon/dialog/dialog.css">
    <link rel="stylesheet" href="/js/codemirror/theme/cobalt.css">
    <link rel="stylesheet" href="/js/codemirror/theme/dracula.css">
    <link rel="stylesheet" href="/js/codemirror/theme/eclipse.css">
    <link rel="stylesheet" href="/js/codemirror/theme/monokai.css">
{% endblock %}

{% block main %}
    <div class="ab-container">
        <div class="ab-row">
            <div class="ab-col12">
                <p style="color:white;margin:10px 0 0 -15px;">{{ editfile|replace({ (root): '' }) }}</p>
            </div>
        </div>
    </div>

    <div class="ab-container ab-filemanager" id="ab-main">
        <div class="ab-row margin-top10" id="ab-editfile">
            <div class="ab-row">
                <div class="ab-col12">
                    <form id="frm-editfile" name="frm-editfile">
                        <input type="hidden" name="inputfilename" id="inputfilename" value="{{ editfile }}" />
                        <textarea name="areacode" id="areacode" style="display:none"></textarea>
                        <label for="areacode"></label>
                        <div id="ab-editor"></div>
                    </form>
                </div>
            </div>

            <ab id="code" style="display:none">{{ code|escape('html') }}</ab>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script src='/js/codemirror/lib/codemirror.min.js'></script>
    <script src='/js/codemirror/addon/edit/matchbrackets.js'></script>
    <script src='/js/codemirror/mode/xml/xml.js'></script>
    <script src='/js/codemirror/addon/fold/xml-fold.js'></script>
    <script src='/js/codemirror/addon/edit/matchtags.js'></script>
    <script src='/js/codemirror/addon/scroll/annotatescrollbar.js'></script>
    <script src='/js/codemirror/addon/search/matchesonscrollbar.js'></script>
    <script src='/js/codemirror/addon/search/searchcursor.js'></script>
    <script src='/js/codemirror/addon/search/match-highlighter.js'></script>
    <script src='/js/codemirror/addon/search/search.js'></script>
    <script src='/js/codemirror/mode/javascript/javascript.js'></script>
    <script src='/js/codemirror/mode/css/css.js'></script>
    <script src='/js/codemirror/mode/htmlmixed/htmlmixed.js'></script>
    <script src='/js/codemirror/mode/clike/clike.js'></script>
    <script src='/js/codemirror/mode/php/php.js'></script>
    <script src='/js/codemirror/addon/display/panel.js'></script>
    <script src='/js/codemirror/addon/dialog/dialog.js'></script>

    <script src='/js/jquery.js'></script>
    <script src='/js/cookie.js'></script>
{% endblock %}
